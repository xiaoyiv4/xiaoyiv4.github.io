---
title: "React 18：迈向“并发渲染”的新时代"
date: 2025-10-01
lastmod: 2025-10-01
tags: ["React"]
description: "react的进步"
cover: /images/bg.png
---
> 发表于 2025年10月1日 • 最后更新 2025年10月1日

React 18 是 React 框架一次颇具里程碑意义的重大更新。它并非引入了全新的概念来改变开发者的写法，而是将重心放在了 “渲染引擎”的升级 上，其核心在于引入了强大的 “并发特性”，为构建更流畅、更具响应性的用户界面奠定了坚实的基础。

核心概念：什么是“并发”？
您可以将其理解为 React 获得的一种新能力。在以前，渲染过程像一个“不可中断的单一任务”：一旦开始更新界面，就必须一气呵成，直到完成。如果这个更新计算量很大，就会阻塞浏览器处理用户输入（如点击、键入），导致页面看起来“卡顿”。

React 18 的并发渲染则像是一个“智能交通管理系统”。它可以将一个大型的渲染任务拆分成多个可中断的微小任务。React 可以在执行这些微小任务的间隙，主动“让出”主线程，去检查并优先处理更紧急的事情（比如用户的点击操作），然后再回来继续渲染。这使得应用能始终保持对用户输入的高效响应，即使在执行繁重渲染任务时也是如此。

面向开发者的关键新特性
基于并发渲染这一核心能力，React 18 为开发者提供了一系列实用的新 API 和功能：

自动批处理更新
批处理是指 React 将多个状态更新合并到一次重新渲染中，以提高性能。在 React 18 之前，只在 React 事件处理器（如 onClick）内的更新会被批处理。而现在，在任何异步代码（如 setTimeout、Promise、事件监听器）中的更新也会被自动批处理，这减少了不必要的渲染，提升了应用性能。

Transitions：区分紧急与非紧急更新
这是一个至关重要的新 API。它允许开发者明确告知 React 哪些更新是“紧急的”（如输入框打字），哪些是“非紧急的”（如搜索结果列表的更新）。React 会优先保障紧急更新的响应速度，而将非紧急更新视为可中断的“过渡性更新”，从而避免界面被不重要的重渲染所阻塞，极大地优化了用户体验。

Suspense 的增强
Suspense 原本用于配合 React.lazy 进行代码分割。在 React 18 中，Suspense 扩展了其能力，现在可以在服务端渲染（SSR）中使用。它支持 “流式 SSR”，服务器可以逐步发送 HTML 到客户端，并优先显示那些不依赖于异步数据的部分内容，让用户更早地看到页面骨架，感受到更快的加载速度。

新的根 API
为了启用所有这些新特性，应用需要使用新的 ReactDOM.createRoot() 方法来挂载根节点，替代旧的 ReactDOM.render()。这是开启 React 18 全新世界的“开关”。

总结
React 18 的升级是一次从“同步”到“并发”的范式转变。它并没有颠覆 React 的组件模型，而是通过底层引擎的革新，为开发高性能、高响应度的大型应用提供了更强大的能力。它标志着 React 正式步入了并发时代，为未来更复杂的交互场景和更好的用户体验铺平了道路。对于开发者而言，理解并善用 startTransition 等并发 API，将是驾驭这一新版本的关键。
